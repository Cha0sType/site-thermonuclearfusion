<!DOCTYPE html>
<html lang="de">
<head>

    <link rel="stylesheet" href="{{url_for('static', filename='stylesheets/index.css')}}">
    <link rel="icon" type="img/svg" href="{{url_for('static', filename='Icon.svg')}}">

    <meta charset="UTF-8">
    <title>Helium Snake</title>

</head>
<body>

    {{ header|safe }}
    
    
    <canvas id="gc" width="400" height="400"></canvas>

</body>
</html>
<style>

    body {
        text-align: center;
    }

    canvas {
        margin-top: 4vw;
        width: 35vw;
        height: auto;
    }

</style>
<script>

    fps = 60;

    window.onload=function() {
        canv=document.getElementById("gc");
        ctx=canv.getContext("2d");
        document.addEventListener("keydown",keyPush);
        setInterval(game,1000/fps);
    }
    px=py=10;
    gs=tc=20;
    ax=ay=15;
    xv=yv=0;
    function game() {
        px+=xv;
        py+=yv;
        if(px<0) {
            px= 399;
        }
        if(px>399) {
            px= 0;
        }
        if(py<0) {
            py= 399;
        }
        if(py>399) {
            py= 0;
        }
        ctx.fillStyle="black";
        ctx.fillRect(0,0,canv.width,canv.height);
        ctx.fillStyle="red";
        ctx.fillRect(ax*gs,ay*gs,gs-2,gs-2);
        ctx.fillStyle = "lime";
        ctx.fillRect(px, py, gs - 2, gs - 2);
    }
    function keyPush(evt) {
        switch(evt.keyCode) {
            case 37:
                xv=-100/fps;yv=0;
                break;
            case 38:
                xv=0;yv=-100/fps;
                break;
            case 39:
                xv=100/fps;yv=0;
                break;
            case 40:
                xv=0;yv=100/fps;
                break;
            default:
                xv=yv=0;
                break
        }
    }
</script>
<script src="{{url_for('static', filename='scripts/index.js')}}"></script>